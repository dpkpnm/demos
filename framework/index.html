
<html>
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
  <link rel='stylesheet' href='http://5c4cf848f6454dc02ec8-c49fe7e7355d384845270f4a7a0a7aa1.r53.cf2.rackcdn.com/css/4baefdf8dc9263bfa6e0f6ea292b06ad6c8eacbf/furtive.min.css'/>
  <style>
    *{margin:0; padding:0}
    body {font-family:"Open Sans"}
    .grid {position: relative;}
    .grid > * {margin:0 auto; transition:height .4s, width .4s}
    .grid .box {z-index:2; position:absolute; box-sizing: border-box;}
    #test {margin-top:50px;}
    #test,#test2 {height:100%;}
    body {overflow:hidden;}
    #progress {height:3px; position: absolute; left:0; top:0; width:100%;}
    #progress svg{height:3px; width:100%;}
    .page-wrapper {width:100%;height:0px; position: absolute; left:0; top:0;}
    .page {position: absolute; left:0; top:0;}
  </style>
  <script src='http://5c4cf848f6454dc02ec8-c49fe7e7355d384845270f4a7a0a7aa1.r53.cf2.rackcdn.com/bundles/1dcb80f6d392bf70fe9751762f2ca064c8264583.js'></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/TweenMax.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/easing/EasePack.min.js"></script>

  <body class="bg-blue-grey-800">
  <div id="progress"></div>
  <div id="questions" class="page-wrapper"></div>
  </body>
</html>
<script id='questionTemplate' type='text/ractive'>
   {{#questions}}
  <div class="txt--center question grid page">
    <div x="1" y="1" sizey="3" class="text-white-darker middle bold box">{{q}}</div>
    <div x="1" y="4" class="ripple-effect bg-white-darker p1 ans middle bold box {{ans=='a' ? 'correct':''}}" data-ripple-color="#9ccc65">{{a}}</div>
    <div x="1" y="5" class="ripple-effect bg-white-darker p1 ans middle bold box {{ans=='b' ? 'correct':''}}" data-ripple-color="#f44336">{{b}}</div>
    <div x="1" y="6" class="ripple-effect bg-white-darker p1 ans middle bold box {{ans=='c' ? 'correct':''}}" data-ripple-color="#f44336">{{c}}</div>
    <div x="1" y="7" class="ripple-effect bg-white-darker p1 ans middle bold box {{ans=='d' ? 'correct':''}}" data-ripple-color="#f44336">{{d}}</div>
  </div>
  {{/questions}}
</script>

<script>
  var cnQ=1;
  $("body").ready(function() {
    grid(".question",{maxCols:1,cols:1,maxRows:7,rows:7,h:innerHeight-50,m:4});
    var ractive = new Ractive({
      el: '#questions',
      template: '#questionTemplate',
      data: { questions: [
          {q:"Question1",a:"Answer A",b:"Answer B",c:"Answer C",d:"Answer D",ans:"a" },
          {q:"Question2",a:"Answer A",b:"Answer B",c:"Answer C",d:"Answer D",ans:"d" },
          {q:"Question3",a:"Answer A",b:"Answer B",c:"Answer C",d:"Answer D",ans:"b" },
          {q:"Question4",a:"Answer A",b:"Answer B",c:"Answer C",d:"Answer D",ans:"c" },
          {q:"Question5",a:"Answer A",b:"Answer B",c:"Answer C",d:"Answer D",ans:"d" },
          {q:"Question6",a:"Answer A",b:"Answer B",c:"Answer C",d:"Answer D",ans:"a" },
          {q:"Question7",a:"Answer A",b:"Answer B",c:"Answer C",d:"Answer D",ans:"b" },
          {q:"Question8",a:"Answer A",b:"Answer B",c:"Answer C",d:"Answer D",ans:"a" },
          {q:"Question9",a:"Answer A",b:"Answer B",c:"Answer C",d:"Answer D",ans:"c" },
      ]}
    });
    nextQ();
  })
  $(window).smartresize(function() {
    test.resize();
  })
  var bar = new ProgressBar.Line('#progress', {color:"#2196F3"});
  // bar.animate(1,{duration:8000},showAns);
  function nextQ() {
    bar.set(0);
    if(cnQ>1)
      TweenMax.to($(".page:nth-child(" +(cnQ-1) + ")"),0.6,{x:-innerWidth,alpha:0.3})
    TweenMax.to($(".page:nth-child(" +cnQ + ")"),0.6,{x:0,onComplete:function() {
      bar.animate(1,{duration:8000},showAns);
    }});

    cnQ++;
  }
  function showAns(el) {
    if(el && el.hasClass("ans")) {
      $(el).hide();
      $(el).siblings(".correct").show().css({backgroundColor:"#9ccc65",color:"#ffffff"});
    } else {
      $(".page:nth-child(" +(cnQ-1) + ") .ans").hide();
      $(".page:nth-child(" +(cnQ-1) + ") .correct").show().css({backgroundColor:"#9ccc65",color:"#ffffff"});
    }
    setTimeout(nextQ,1000);
  }
</script>
